---  
layout: post  
title: "[리뷰] R을 이용한 퀀트 투자 포트폴리오 만들기"  
subtitle: "데이터 크롤링 및 분석, 퀀트 전략을 활용한 투자 종목 선정까지"  
categories: review  
tags: review book quant R 포트폴리오 종목선정 백테스트 평가 시각화 dplyr tidyverse 크롤링
comments: true  
header-img: img/review/review-book-quant-with-r-1.png
---  
  
> `제이펍` 출판사의 `"R을 이용한 퀀트 투자 포트폴리오 만들기(이현열 저)"`를 읽고 작성한 리뷰입니다.  

![표지](https://theorydb.github.io/assets/img/review/review-book-quant-with-r-1.png)  

---

* __R의 강력함을 너무 잘 표현하는 책(R vs Python)__  
  이 책에서 느낀 매력 중 하나는 R을 제대로 쓰면 얼마나 강력한지 여실없이 보여준다는 점에 있다. 개인적으로 프로그래머이기에 Python을 더 많이 활용하고는 있지만 몇가지 특수한 상황과 기능은 R과 영원히 작별할 수 없는 원인이 되곤 한다.

  첫째, dplyr 패키지를 활용한 일련의 데이터 분석 과정은 Python의 Pandas를 활용할 때보다 고정된 패턴과 포맷이 있어 조금 더 직관적이고 생산적이다. 
  
  Python의 최대 장점은 유연성에 있다고 생각한다. 데이터가 어떻게 생겨먹고 분석 기법이 무엇이든 뭐든지 표현하고 가공할 수 있다. 반면 그 유연성이 때로는 독이 되어 능숙하지 않은 기법을 찾아 쓸 때는 많은 시행착오를 거쳐야 하고 그 만큼 시간이 낭비되어 생산성을 저해하곤 한다. 
  
  반면 R은 유연성이 다소 떨어질진 몰라도 join, glimpse, rename, mutate, filter, summarize, arrange, group by 등으로 이어지는 dplyr의 마법의 분석 패턴을 하나 잘 익혀 놓으면 Tabular 형식의 데이터 80%는 이 패턴 하나로 몇분 만에 깔끔하고 직관적으로 분석할 수 있다. 8장의 절반만 할애해서 R의 핵심 기능을 너무 잘 표현하고 있다는 생각이 들었다. 
  
  프로그래밍에도 좋은 패턴과 예제 하나를 잘 익혀두면 나머지는 시간과 경험의 문제에 지나지 않는다. 비슷한 예로 웹프로그래밍을 처음 배울 때 게시판 예제 하나만 잘 짜도 대부분의 웹 프로그래밍 80%는 익히는 셈이라 할 수 있다. 나머지 디테일한 부분은 그저 시간과 경험의 싸움일 뿐이다.

  시중에 나온 R 서적이 상당히 많은데 내용은 충분하지만 기능별로 모두 파편화되어 돌아서면 잊어먹기 딱 좋은 구성이다. 하지만 이 책은 달랐다. 8장에서 펼쳐지는 데이터 분석의 기본 패턴을 잘 익혀놓으면 명확한 개념의 큰 물줄기를 얻을 수 있다. 주식 종목정보 분석이라는 흥미로운 유인책은 나름의 학습 동기를 부여해주기에 분석의 과정을 더욱 이해하기 쉬워지며 dplyr가 가지는 R의 매력을 여실히 보여준다.

  둘째, Tidyverse로 대표되는 R의 철학은 상당히 매력적인데 이 책이 그 장점을 잘 활용하고 있다. 예를 들면 JavaScript에는 Callback 지옥이 한 때 유명했는데 쉽게 말하자면 괄호의 지옥이다. 
  
  A(B(C()))와 같이 일련의 함수 호출 과정속에 인자 혹은 옵션 몇가지만 추가되면 괄호속에 파묻혀 직관적으로 한 눈에 잘 들어오지 않는다. 이를 해결하기 위해 Promise나 async, wait 등의 기법이 나왔는데 Tidyverse에서는 이를 해결하지 위해 파이프 오퍼레이터(%>%)를 활용하여 논리적인 기능의 흐름의 경계선을 명확히 구분하여 직관적인 이해를 돕는다. 

  셋째, 통계에 특화된 R의 기능이다. 9장의 예제에서도 나오지만 베타(개별 주식이 전체 주식 시장의 변동에 반응하는 정도)를 구하는데 필요한 R의 코드는 고작 한 줄이다.
  '''R
  lm(ri ~ rm)
  '''
  긴 통계학의 역사적인 아이디어를 포뮬러를 활용해 한 줄의 명령어로 쉽게 파악할 수 있다는 점은 R에서 쉽게 손을 뗄 수 없는 매력 중 하나이다.

  물론 그렇다고 Python이 가진 범용 프로그래밍 언어 고유의 장점을 상쇄할 순 없다. 예를 들어 주식 데이터의 캔들 그림을 인풋 데이터로 활용하여 CNN으로 예측 분석 모델을 구현한다거나, RNN을 활용하여 주가 방향성을 분류, 오토인코더를 활용하여 주가 데이터를 생성하는 등의 딥러닝 위주의 프로그래밍은 Python이 훨씬 편리하며 특히 End-to-End의 구현, Serving과 배포 측면에서는 R이 Python을 따라갈 수가 없다. 

  조금 귀찮지만 이런 점들이 개인적으로 Python과 R 두마리 토끼를 쫓는 이유가 되었는데 이 중 R의 장점을 이 책에서 잘 표현하고 있기에 R을 유기적으로 이해하고 빠르게 활용하고 싶은 독자에게 많은 도움이 될 수 있는 책이라는 생각이 들었다.

* __논문과 구현의 경계에서 가장 쉬운 길을 찾는 느낌__  
Quant의 기초를 잘 정리

* __Quant의 기초를 잘 정리__  

* __Quant의 기초를 잘 정리__  
  

---

* [책소개 - R을 이용한 퀀트 투자 포트폴리오 만들기](http://www.yes24.com/Product/Goods/97163849)
